; print char from r0 without using `PRINT` and `MVCUR`

@define VIDEO_BASE = 0x8000
@define CURSOR     = 0x81e0

print:
	; put current cursor position on the top of the stack
	PUSH16  =CURSOR
	LOADP

	; store current cursor value in r1 for incrementing later
	POPR    r1
	PUSHR   r1

	; calculate offset
	PUSH16  =VIDEO_BASE
	ADD

	; write the character
	PUSHR   r0
	STOREP

	; incrment cursor
	PUSH16  =VIDEO_BASE
	PUSHR   r1
	PUSH16  1
	ADD
	STOREP
	
	RET
