CALL main
HALT

add:
PUSHR fp
MOV fp, sp
LOADR [fp, -2]
LOADR [fp, -4]
ADD
STORER [fp, 2]
MOV sp, fp
POPR fp
RET
MOV sp, fp
POPR fp
RET

main:
PUSHR fp
MOV fp, sp
PUSH16 0
PUSH16 2
PUSH16 1
CALL add
POPR r0
POPR r0
POPR r0
PUSHR r0
POPR r0
CALL print
MOV sp, fp
POPR fp
RET
